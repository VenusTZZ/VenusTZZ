# 用卷积神经网络推荐可能的检修方法
## 1. 问题描述
现在的问题是根据用户输入的故障描述，推荐可能的检修方法。
::: tip
这里可以看做是一个多标签分类问题？
一个故障描述 --- >  对应的多个检修方法的词汇
:::
## 2. 数据集
现有的数据集是一个excel表格，包含了用户输入的现象描述和检修方法。他们都是以一条长句子的形式存在的。现在的问题是如何将这些数据转换成可以训练的数据。
| 案例 | 现象组 |   方法组 |
| ---- | :----: | -------: |
| 1    | xxxxx  | yy,zz,kk |
| 2    | xxxxx  | yy,mm,ll |
| 3    | xxxxx  | yy,oo,pp |

| 现象组 | 对应编码 |
| :----: | -------: |
| xxxxx  |  1001001 |
| xxxxx  |  1010100 |
| xxxxx  |  1100010 |

|  方法组  | 对应编码 |
| :------: | -------: |
| yy,zz,kk |  1001001 |
| yy,mm,ll |  1010100 |
| yy,oo,pp |  1100010 |
## 2.1. 数据预处理
- 与现象描述有关的词语有xxx种 --- > 输入层的维度为xxx维
对每一条数据，分词，去除停用词，然后根据词表，将每一条数据转换成一个向量，向量的维度为词表的xxx维，向量中的每一个元素为0或1，1表示该词在该条数据中出现过，0表示该词在该条数据中没有出现过。
- 与检修方法有关的词语有yyy种 --- > 输出层的维度为yyy维
对每一条数据，分词，去除停用词，然后根据词表，将每一条数据转换成一个向量，向量的维度为词表的yyy维，向量中的每一个元素为0或1，1表示该词在该条数据中出现过，0表示该词在该条数据中没有出现过。
## 3. 处理方法
### 3.1
- 把所有的现象进行分词，去除停用词，得到所有的词汇表。
- 根据输入词汇表对输入进行multi-hot编码，得到输入向量。
### 3.2
- 把所有的检修方法进行分词，去除停用词，得到所有的词汇表。
### 3.3
- 根据检修方法词汇表对检修方法进行multi-hot编码，得到检修方法向量。
- 把向量送入Roberta(或者别的bert衍生模型？)模型，得到一个向量表示。
- 把学习到的向量送入卷积网络，得到卷积结果。卷积结果也是一种multi-hot编码的方式
- 然后看multi-hot编码的结果,其中那个位置的数字为1，则代表推荐这个检修方法；如果为0，则不推荐这个检修方法。
## 4. 代码实现
```python
import pandas as pd
import numpy as np
import transformers
import torch
```
## 5. 其他思路
1. 考虑给输入描述添加物品特征，然后用卷积神经网络进行训练。也就是进行协同过滤。
## 6. 问题、疑问
1. Transformers的bert可以自定义词汇表吗？或者可以手动添加一些词汇。如果可以，那么就可以用自己的词汇表进行训练。
2. Transformers的tokenizer可以采用one-hot或者multi-hot编码吗?
3. Transformers的tokenizer可以自定义词汇表吗？

